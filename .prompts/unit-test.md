Create unit test for [METHOD] using:
- Use **testify** for unit testing and assertions.
- Write tests using **table-driven patterns**.
- Enable **parallel execution** where possible.
- Test all possible cases, mock external dependencies